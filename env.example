# ==============================================================================
# Gateway VoIP Nova S2S - Environment Variables Template
# ==============================================================================
# Copy this file to .env and configure with your actual values
# All variables prefixed with "export" for shell compatibility
# ==============================================================================

# ==============================================================================
# SIP Configuration (Required)
# ==============================================================================
export SIP_SERVER="sip.example.com"              # Hostname/IP del servidor SIP
export SIP_USER="your_username"                   # Usuario SIP (generalmente igual a AUTH_USER)
export AUTH_USER="your_username"                  # Usuario para autenticación SIP
export AUTH_PASSWORD="your_password"              # Password para autenticación SIP
export AUTH_REALM="your_realm"                    # Realm SIP para autenticación
export DISPLAY_NAME="Display Name"                # Nombre para mostrar en dirección SIP

# ==============================================================================
# SIP Configuration (Optional - with defaults)
# ==============================================================================
# export SIP_VIA_ADDR="auto-detected"             # IP para campo Via en SIP (auto-detectada si no se configura)
# export SIP_KEEPALIVE_TIME=60000                 # Frecuencia keep-alive en milisegundos (default: 60000)

# ==============================================================================
# Media Configuration (Optional - with defaults)
# ==============================================================================
# export MEDIA_ADDRESS="auto-detected"            # IP para tráfico RTP (auto-detectada si no se configura)
# export MEDIA_PORT_BASE=10000                    # Primer puerto RTP (default: 10000)
# export MEDIA_PORT_COUNT=10000                   # Tamaño del pool de puertos RTP (default: 10000)
# export GREETING_FILENAME="hello-how.wav"        # Archivo de saludo (ruta absoluta o classpath, default: hello-how.wav)

# ==============================================================================
# Nova Sonic Configuration - Sistema Multi-Cliente
# ==============================================================================
# CLIENT_ID determina qué directorio de prompts usar desde:
# src/main/resources/prompts/{CLIENT_ID}/
#
# Estructura esperada:
#   prompts/{CLIENT_ID}/base-prompt.txt         <- Prompt inicial
#   prompts/{CLIENT_ID}/context-*.txt           <- Contextos cargados on-demand
#
export CLIENT_ID="keralty"                        # ID del cliente (default: keralty)

# ==============================================================================
# Nova Sonic Configuration - Voice & Parameters
# ==============================================================================
export NOVA_VOICE_ID="en_us_matthew"              # Voz de Nova Sonic (default: en_us_matthew)
                                                  # Opciones: en_us_matthew, en_us_sarah, lupe, etc.
                                                  # Ver: https://docs.aws.amazon.com/nova/latest/userguide/available-voices.html

export NOVA_MAX_TOKENS=1024                       # Máximo de tokens por respuesta (default: 1024)
export NOVA_TEMPERATURE=0.7                       # Temperatura para generación (0.0-1.0, default: 0.7)
export NOVA_TOP_P=0.9                             # Top-p sampling (0.0-1.0, default: 0.9)

# ==============================================================================
# Nova Sonic Configuration - System Prompt (Optional Override)
# ==============================================================================
# NOVA_PROMPT sobrescribe el sistema CLIENT_ID y usa este prompt directamente
# Si no se configura, se cargará base-prompt.txt del directorio CLIENT_ID
#
# Opción 1: Cargar desde archivo (recomendado)
export NOVA_PROMPT="$(cat ~/sample-s2s-voip-gateway/src/main/resources/prompts/${CLIENT_ID}/base-prompt.txt)"
#
# Opción 2: Prompt inline (no recomendado para prompts largos)
# export NOVA_PROMPT="You are a helpful assistant. Keep responses short and conversational."
#
# Nota: El sistema de carga dinámica de contextos funcionará independientemente
# de cómo configures NOVA_PROMPT

# ==============================================================================
# Debug Options
# ==============================================================================
export DEBUG_SIP=true                             # Habilitar logging de paquetes SIP (true|false, default: true)
export DEBUG_AUDIO_OUTPUT=false                   # Habilitar logging detallado de audio (true|false, default: false)

# ==============================================================================
# Notas Importantes
# ==============================================================================
# 1. Si SIP_SERVER está configurado, la aplicación usa variables de entorno
#    Si SIP_SERVER no está configurado, usa archivo .mjsip-ua
#
# 2. Las variables marcadas como "auto-detected" obtienen su valor de las
#    interfaces de red si no se configuran explícitamente
#
# 3. Para cargar estas variables en tu shell:
#    Linux/Mac:  source .env
#    Windows:    Ver docs/RUN_INSTRUCTIONS.md para comandos PowerShell
#
# 4. CLIENT_ID es crítico para el sistema multi-cliente de prompts
#    Asegúrate de que existe el directorio correspondiente en
#    src/main/resources/prompts/{CLIENT_ID}/
#
# 5. Security Groups requeridos (AWS):
#    - Inbound UDP 5060 (SIP)
#    - Inbound UDP 10000-20000 (RTP, ajustar según MEDIA_PORT_BASE/COUNT)
#    - Outbound: Allow all
#
# ==============================================================================
